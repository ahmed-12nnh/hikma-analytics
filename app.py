import streamlit as st
import google.generativeai as genai
import fitz  # PyMuPDF
import pandas as pd
from io import StringIO
import time
import streamlit.components.v1 as components

# Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„ØªØµØ§Ù…ÙŠÙ… Ù…Ù† Ù…Ù„Ù styles.py
from styles import (
    MAIN_CSS,
    STYLE_OFFICIAL,
    STYLE_DIGITAL,
    STYLE_ANALYTICAL,
    STYLE_PRESENTATION,
    STYLE_EXECUTIVE,
    SCRIPT_PRESENTATION
)

# ---------------------------------------------------------
# ğŸ”‘ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙØªØ§Ø­
# ---------------------------------------------------------
try:
    API_KEY = st.secrets["GOOGLE_API_KEY"]
except:
    API_KEY = None

# ---------------------------------------------------------
# ğŸ¨ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØµÙØ­Ø© ÙˆØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù€ CSS Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
# ---------------------------------------------------------
st.set_page_config(
    page_title="Ù…Ù†ØµØ© Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ",
    page_icon="ğŸ¦…",
    layout="wide",
    initial_sidebar_state="collapsed"
)

# ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù…Ù† Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ
st.markdown(MAIN_CSS, unsafe_allow_html=True)

# ---------------------------------------------------------
# ğŸ› ï¸ Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©
# ---------------------------------------------------------

def extract_text_from_file(uploaded_file):
    """Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ÙƒØªØ¨Ø© fitz (PyMuPDF)"""
    text_content = ""
    try:
        if uploaded_file.type == "application/pdf":
            try:
                doc = fitz.open(stream=uploaded_file.getvalue(), filetype="pdf")
                for page in doc:
                    text_content += page.get_text() + "\n"
            except Exception as pdf_err:
                return f"âš ï¸ Ø®Ø·Ø£ ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© PDF: {pdf_err}"

        elif uploaded_file.type == "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":
            try:
                df = pd.read_excel(uploaded_file, engine='openpyxl')
                text_content = df.to_csv(index=False)
            except Exception as xl_err:
                 return f"âš ï¸ Ø®Ø·Ø£ ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© Excel: {xl_err}"
        
        else:
            stringio = StringIO(uploaded_file.getvalue().decode("utf-8", errors='ignore'))
            text_content = stringio.read()
            
    except Exception as e:
        return f"âš ï¸ Ø®Ø·Ø£ Ø¹Ø§Ù… ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ù„Ù: {e}"
        
    if not text_content.strip():
        return "âš ï¸ ØªØ­Ø°ÙŠØ±: Ø§Ù„Ù…Ù„Ù ÙŠØ¨Ø¯Ùˆ ÙØ§Ø±ØºØ§Ù‹."
        
    return text_content

def clean_input_text(text):
    if not text: return ""
    lines = [line.strip() for line in text.split('\n') if line.strip()]
    return '\n'.join(lines)

# ğŸ”¥ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¬ÙˆÙ‡Ø±ÙŠ Ù„Ø­Ù„ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ù‡Ù†Ø§ ğŸ”¥
def clean_html_response(text):
    # 1. ØªÙ†Ø¸ÙŠÙ Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ù…Ø§Ø±ÙƒØ¯ÙˆØ§Ù†
    text = text.replace("```html", "").replace("```", "")
    
    # 2. Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø°ÙƒÙŠ Ø¹Ù† Ø¨Ø¯Ø§ÙŠØ© HTML ÙˆØ­Ø°Ù Ø£ÙŠ ÙƒÙ„Ø§Ù… Ù‚Ø¨Ù„Ù‡
    # Ù†Ø¨Ø­Ø« Ø¹Ù† <!DOCTYPE html> Ø£Ùˆ <html
    start_index = text.find("<!DOCTYPE html>")
    if start_index == -1:
        start_index = text.find("<html")
    
    # Ø¥Ø°Ø§ ÙˆØ¬Ø¯Ù†Ø§ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©ØŒ Ù†Ù‚Øµ Ø§Ù„Ù†Øµ Ù…Ù† Ù‡Ù†Ø§Ùƒ
    if start_index != -1:
        return text[start_index:].strip()
        
    return text.strip()

def get_working_model():
    try:
        for m in genai.list_models():
            if 'generateContent' in m.supported_generation_methods:
                if "flash" in m.name:
                    return m.name
        return "gemini-1.5-flash"
    except:
        return "gemini-1.5-flash"

# ---------------------------------------------------------
# ğŸ—ï¸ Ø¨Ù†Ø§Ø¡ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
# ---------------------------------------------------------

# Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
st.markdown('''
<div class="hero-section">
    <div class="main-title">ØªÙŠØ§Ø± Ø§Ù„Ø­ÙƒÙ…Ø© Ø§Ù„ÙˆØ·Ù†ÙŠ</div>
    <div class="sub-title">Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ Ù„Ù„Ø¬ÙˆØ¯Ø© Ø§Ù„Ø´Ø§Ù…Ù„Ø© | ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ®Ø·ÙŠØ· Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ</div>
</div>
''', unsafe_allow_html=True)

# Ø¹Ù†ÙˆØ§Ù† Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù†Ù…Ø·
st.markdown('<div class="section-header">ğŸ¨ Ø§Ø®ØªØ± Ù†Ù…Ø· Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨</div>', unsafe_allow_html=True)

# Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±
report_type = st.radio(
    "",
    ("ğŸ›ï¸ Ù†Ù…Ø· Ø§Ù„ÙƒØªØ§Ø¨ Ø§Ù„Ø±Ø³Ù…ÙŠ", "ğŸ“± Ù†Ù…Ø· Ø§Ù„Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ø§Ù„Ø±Ù‚Ù…ÙŠ", "ğŸ“Š Ù†Ù…Ø· Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¹Ù…ÙŠÙ‚", "ğŸ“½ï¸ Ø¹Ø±Ø¶ ØªÙ‚Ø¯ÙŠÙ…ÙŠ ØªÙØ§Ø¹Ù„ÙŠ (PPT)", "âœ¨ Ù…Ù„Ø®Øµ ØªÙ†ÙÙŠØ°ÙŠ Ø­Ø¯ÙŠØ«"),
    horizontal=True,
    label_visibility="collapsed"
)

st.markdown("<br>", unsafe_allow_html=True)

# Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
col_input, col_upload = st.columns([2, 1])

with col_input:
    st.markdown('''
    <div class="input-card">
        <div class="input-header">
            <div class="input-icon">ğŸ“</div>
            <div>
                <div class="input-title">Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª / Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª</div>
                <div class="input-subtitle">Ø£Ø¯Ø®Ù„ Ø§Ù„Ù†Øµ Ø£Ùˆ Ø§Ù„ØµÙ‚ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ù‡Ù†Ø§</div>
            </div>
        </div>
    </div>
    ''', unsafe_allow_html=True)
    user_text = st.text_area("", height=200, placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø£Ùˆ Ø§Ù„ØµÙ‚ Ù†Øµ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ù‡Ù†Ø§...", label_visibility="collapsed")

with col_upload:
    st.markdown('''
    <div class="input-card">
        <div class="input-header">
            <div class="input-icon">ğŸ“</div>
            <div>
                <div class="input-title">Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª</div>
                <div class="input-subtitle">PDF, XLSX, TXT - Ø­ØªÙ‰ 200MB</div>
            </div>
        </div>
    </div>
    ''', unsafe_allow_html=True)
    uploaded_file = st.file_uploader("", type=['pdf', 'xlsx', 'txt'], label_visibility="collapsed")
    
    if uploaded_file:
        st.success(f"âœ… ØªÙ… Ø¥Ø±ÙØ§Ù‚: {uploaded_file.name}")

st.markdown("<br>", unsafe_allow_html=True)

# Ø²Ø± Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©
if st.button("ğŸš€ Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© ÙˆØ¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙƒØ§Ù…Ù„"):
    
    if not API_KEY:
        st.error("âš ï¸ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…ÙØªØ§Ø­ API. ÙŠØ±Ø¬Ù‰ Ø¥Ø¶Ø§ÙØªÙ‡ ÙÙŠ Secrets.")
        st.stop()
    
    full_text = user_text
    
    if uploaded_file:
        with st.spinner('ğŸ“‚ Ø¬Ø§Ø±ÙŠ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ù„Ù ÙˆÙ…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©...'):
            file_content = extract_text_from_file(uploaded_file)
            if "âš ï¸" in file_content and len(file_content) < 200: 
                st.warning(file_content)
            full_text += f"\n\n[Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù„Ù]:\n{file_content}"

    full_text = clean_input_text(full_text)

    if not full_text.strip():
        st.warning("âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ùˆ Ø±ÙØ¹ Ù…Ù„Ù ØµØ§Ù„Ø­.")
    else:
        try:
            genai.configure(api_key=API_KEY)
            model_name = get_working_model()
            
            # Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ØµØ§Ø±Ù…Ø© Ù„Ù…Ù†Ø¹ Ø§Ù„Ù‡Ù„ÙˆØ³Ø©
            generation_config = genai.types.GenerationConfig(
                temperature=0.0,
                top_p=0.95,
                top_k=40,
                max_output_tokens=8192,
            )
            
            model = genai.GenerativeModel(model_name)

            target_css = ""
            design_rules = ""
            file_label = "Report"
            
            unified_signature = """
            <div style="margin-top: 50px; text-align: center; padding-top: 20px; border-top: 2px solid #ccc; font-family: 'Tajawal'; color: #555;">
                <p style="margin-bottom: 5px;"><strong>ØµØ§Ø¯Ø± Ù…Ù† Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ Ù„Ù„Ø¬ÙˆØ¯Ø© Ø§Ù„Ø´Ø§Ù…Ù„Ø©</strong></p>
                <p style="font-size: 1.1em; color: #001f3f;"><strong>ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ®Ø·ÙŠØ· Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ ÙˆØ§Ù„ØªØ·ÙˆÙŠØ±</strong></p>
            </div>
            """

            if "Ø§Ù„Ø±Ø³Ù…ÙŠ" in report_type:
                target_css = STYLE_OFFICIAL
                file_label = "Official_Report"
                design_rules = """
                Style: Official Corporate Report.
                - Wrap card sections in <div class="card">.
                - Use HTML <table> inside cards for tabular data.
                - Use <ul> with <li><span>Label</span> <span class="value">Value</span></li> for lists.
                """
            
            elif "Ø§Ù„Ø±Ù‚Ù…ÙŠ" in report_type:
                target_css = STYLE_DIGITAL
                file_label = "Digital_Dashboard"
                design_rules = """
                Style: Modern Digital Dashboard.
                - Use <section id="summary"> for highlights.
                - Use <article class="card"> for detailed sections.
                - Use <div class="goal"> for key takeaways.
                """
            
            elif "Ø§Ù„ØªØ­Ù„ÙŠÙ„" in report_type:
                target_css = STYLE_ANALYTICAL
                file_label = "Deep_Analysis"
                design_rules = """
                Style: Statistical Hierarchy.
                - Use <div class="stats-grid"> for top key numbers.
                - Use <div class="pyramid-grid"> for detailed hierarchy.
                - Inside pyramid, use <div class="tier-card tier-upper"> (or middle/weak) based on importance.
                - Use <div class="bar-container"><div class="bar" style="width: XX%;"></div></div> for percentages.
                """
            
            elif "Ù…Ù„Ø®Øµ" in report_type:
                target_css = STYLE_EXECUTIVE
                file_label = "Executive_Summary"
                design_rules = """
                Style: Modern Executive Summary.
                - Header is already provided in CSS, just use <h1>.
                - Use <div class="executive-summary"> for the main text.
                - Use <div class="grid-2"> with <div class="metric-box"> for key metrics.
                """

            elif "Ø¹Ø±Ø¶ ØªÙ‚Ø¯ÙŠÙ…ÙŠ" in report_type:
                target_css = STYLE_PRESENTATION
                file_label = "Presentation_Slides"
                design_rules = """
                Style: Interactive Presentation Slides (Reveal.js style).
                Structure Requirement:
                1. Output HTML `div` elements with class `slide`.
                2. The first slide MUST be `<div class="slide cover active" id="slide-1">`.
                3. Subsequent slides must be `<div class="slide" id="slide-2">`, `<div class="slide" id="slide-3">` etc.
                4. Inside slides, use `<div class="slide-header">` (with title & logo).
                5. Use `<div class="slide-content">` split into `<div class="text-panel">` and `<div class="visual-panel">`.
                6. Use FontAwesome icons `<i class="fas fa-icon"></i>` inside the visual panel.
                7. The FINAL slide must include the signature box exactly as:
                   <div class="signature-box">
                        <div class="signature-title">ØµØ§Ø¯Ø± Ø¹Ù†</div>
                        <div class="signature-name">Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ Ù„Ù„Ø¬ÙˆØ¯Ø© Ø§Ù„Ø´Ø§Ù…Ù„Ø©</div>
                        <div class="signature-name">ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ®Ø·ÙŠØ· Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ ÙˆØ§Ù„ØªØ·ÙˆÙŠØ±</div>
                   </div>
                8. DO NOT output the Javascript or CSS, only the HTML body content.
                """
                unified_signature = """
                <div class="nav-controls">
                    <button class="nav-btn" onclick="prevSlide()"><i class="fas fa-chevron-right"></i></button>
                    <button class="nav-btn" onclick="nextSlide()"><i class="fas fa-chevron-left"></i></button>
                </div>
                <div class="page-number" id="page-num">1 / 1</div>
                """

            # ØªØ¹Ù„ÙŠÙ…Ø§Øª ØµØ§Ø±Ù…Ø© (ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø³Ø·Ø± ÙŠÙ…Ù†Ø¹ Ø§Ù„Ø­Ø¯ÙŠØ« Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ)
            prompt = f"""
            You are a strict Data Analyst & Developer.
            **Objective:** Convert the provided text into a Professional HTML Report.
            
            **CRITICAL RULES FOR ACCURACY (ZERO TOLERANCE):**
            1. **OUTPUT FORMAT:** Return ONLY raw HTML code. DO NOT include any introductory text (e.g., "Here is the code", "Okay I will..."). Start immediately with <!DOCTYPE html>.
            2. **NAMES PRESERVATION:** You MUST copy person names EXACTLY as they appear in the input (e.g. "Ø¨Ù„ÙŠØº Ø§Ø¨Ùˆ ÙƒÙ„Ù„"). DO NOT change them.
            3. **REVERSED TEXT:** Fix reversed Arabic letters but keep words unchanged.
            4. **DESIGN:** Follow these rules:
            {design_rules}
            
            **INPUT DATA:**
            {full_text}
            
            **LANGUAGE:** Arabic (Professional).
            """

            progress_placeholder = st.empty()
            
            for i in range(0, 90, 10):
                progress_placeholder.markdown(f'''
                <div class="progress-box">
                    <div style="font-size: 2rem; margin-bottom: 15px;">ğŸ¤–</div>
                    <div class="progress-bar-bg">
                        <div class="progress-bar-fill" style="width: {i}%;"></div>
                    </div>
                    <div class="progress-text">Ø¬Ø§Ø±ÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØªØµØ­ÙŠØ­ Ø§Ù„Ù†ØµÙˆØµ... {i}%</div>
                </div>
                ''', unsafe_allow_html=True)
                time.sleep(0.1)
            
            try:
                response = model.generate_content(prompt, generation_config=generation_config)
                
                if response.prompt_feedback.block_reason:
                    st.error("âš ï¸ ØªÙ… Ø­Ø¸Ø± Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù…Ù† Ù‚Ø¨Ù„ Google AI Ù„Ø£Ø³Ø¨Ø§Ø¨ ØªØªØ¹Ù„Ù‚ Ø¨Ø§Ù„Ø³ÙŠØ§Ø³Ø© Ø£Ùˆ Ø§Ù„Ø³Ù„Ø§Ù…Ø©.")
                    st.stop()
                    
                # Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¯Ø§Ù„Ø© Ø§Ù„ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø°ÙƒÙŠØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
                html_body = clean_html_response(response.text)
                
                progress_placeholder.empty()
                
                final_html = f"""
                <!DOCTYPE html>
                <html lang="ar" dir="rtl">
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>ØªÙ‚Ø±ÙŠØ± {file_label}</title>
                    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;800&family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
                    {target_css}
                </head>
                <body>
                    <div class="{ 'presentation-container' if 'Ø¹Ø±Ø¶ ØªÙ‚Ø¯ÙŠÙ…ÙŠ' in report_type else 'container' }">
                        {html_body}
                        {unified_signature}
                    </div>
                    
                    {SCRIPT_PRESENTATION if 'Ø¹Ø±Ø¶ ØªÙ‚Ø¯ÙŠÙ…ÙŠ' in report_type else ''}
                </body>
                </html>
                """

                st.markdown('''
                <div class="success-banner">
                    <span>âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­!</span>
                </div>
                ''', unsafe_allow_html=True)
                
                components.html(final_html, height=850, scrolling=True)

                st.download_button(
                    label="ğŸ“¥ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙ‚Ø±ÙŠØ± (HTML)",
                    data=final_html,
                    file_name=f"{file_label}.html",
                    mime="text/html"
                )
            
            except Exception as api_error:
                progress_placeholder.empty()
                st.error(f"âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ Google AI: {api_error}")

        except Exception as e:
            st.error(f"âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹: {e}")

# Ø§Ù„ÙÙˆØªØ±
st.markdown("<br><br>", unsafe_allow_html=True)
st.markdown('''
<div style="
    background: linear-gradient(135deg, rgba(0, 31, 63, 0.95), rgba(10, 46, 92, 0.9));
    border-radius: 15px;
    padding: 30px 20px;
    margin: 20px;
    border: 1px solid rgba(255, 215, 0, 0.3);
    text-align: center;
    box-shadow: 0 -5px 30px rgba(0, 0, 0, 0.3);
">
    <div style="
        width: 60px;
        height: 3px;
        background: linear-gradient(90deg, transparent, #FFD700, transparent);
        margin: 0 auto 20px auto;
        border-radius: 2px;
    "></div>
    <p style="
        color: #FFD700;
        font-size: 1.1rem;
        font-weight: 700;
        margin-bottom: 8px;
        font-family: 'Tajawal', sans-serif;
    ">Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ Ù„Ù„Ø¬ÙˆØ¯Ø© Ø§Ù„Ø´Ø§Ù…Ù„Ø©</p>
    <p style="
        color: rgba(255, 255, 255, 0.8);
        font-size: 1rem;
        font-weight: 500;
        margin-bottom: 15px;
        font-family: 'Tajawal', sans-serif;
    ">ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ®Ø·ÙŠØ· Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ ÙˆØ§Ù„ØªØ·ÙˆÙŠØ±</p>
    <div style="
        width: 100px;
        height: 1px;
        background: rgba(255, 215, 0, 0.3);
        margin: 15px auto;
    "></div>
    <p style="
        color: rgba(255, 255, 255, 0.5);
        font-size: 0.85rem;
        font-family: 'Tajawal', sans-serif;
    ">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Â© 2026</p>
</div>
''', unsafe_allow_html=True)
